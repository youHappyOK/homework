package com.cqupt.homework;

import static org.junit.Assert.*;

import org.junit.Before;
import org.junit.Test;

/***
 * Junit单元测试
 * 
 * @author Jin
 *
 */
public class SummaryTest {
	
	private Summary s;

	@Before
	public void setUp() throws Exception {
		s = new Summary();
	}

	@Test
	public void testGenerateSummary1() throws Exception {
		String input = "2016-06-02 20:00~22:00 7\n" + 
				"2016-06-03 09:00~12:00 14\n" + 
				"2016-06-04 14:00~17:00 22\n" + 
				"2016-06-05 19:00~22:00 3\n" + 
				"2016-06-06 12:00~15:00 15\n" +
				"2016-06-07 15:00~17:00 12\n" + 
				"2016-06-08 10:00~13:00 19\n" + 
				"2016-06-09 16:00~18:00 16\n" + 
				"2016-06-10 20:00~22:00 5\n" + 
				"2016-06-11 13:00~15:00 11";
		
		String correctResult = "[Summary]\n\n" +
			"2016-06-02 20:00~22:00 +210 -240 -30\n" +
			"2016-06-03 09:00~12:00 +420 -180 +240\n" +
			"2016-06-04 14:00~17:00 +660 -600 +60\n" +
			"2016-06-05 19:00~22:00 +0 -0 0\n" +
			"2016-06-06 12:00~15:00 +450 -300 +150\n" +
			"2016-06-07 15:00~17:00 +360 -200 +160\n" +
			"2016-06-08 10:00~13:00 +570 -330 +240\n" +
			"2016-06-09 16:00~18:00 +480 -300 +180\n" +
			"2016-06-10 20:00~22:00 +150 -120 +30\n" +
			"2016-06-11 13:00~15:00 +330 -200 +130\n" +
			"\nTotal Income: 3630\n" +
			"Total Payment: 2470\n" +
			"Profit: 1160\n";
		String result = s.generateSummary(input);
		assertEquals(correctResult, result);
	}

	@Test
	public void testGenerateSummary2() throws Exception{
		String input = "2016-10-02 20:00~22:00 7\n" + 
				"2016-10-03 09:00~12:00 8\n" + 
				"2016-10-04 14:00~17:00 12\n" + 
				"2016-10-05 19:00~22:00 13\n" + 
				"2016-10-06 12:00~15:00 9\n" +
				"2016-10-07 15:00~17:00 14\n" + 
				"2016-10-08 10:00~13:00 17\n" + 
				"2016-10-09 16:00~18:00 11\n" + 
				"2016-10-10 20:00~22:00 5\n" + 
				"2016-10-11 13:00~15:00 18";
		
		String correctResult = "[Summary]\n\n" + 
				"2016-10-02 20:00~22:00 +210 -240 -30\n" +
				"2016-10-03 09:00~12:00 +240 -180 +60\n" +
				"2016-10-04 14:00~17:00 +360 -300 +60\n" +
				"2016-10-05 19:00~22:00 +390 -400 -10\n" +
				"2016-10-06 12:00~15:00 +270 -300 -30\n" +
				"2016-10-07 15:00~17:00 +420 -200 +220\n" +
				"2016-10-08 10:00~13:00 +510 -390 +120\n" +
				"2016-10-09 16:00~18:00 +330 -200 +130\n" +
				"2016-10-10 20:00~22:00 +150 -120 +30\n" +
				"2016-10-11 13:00~15:00 +540 -300 +240\n"	 +
				"\nTotal Income: 3420\n" +
				"Total Payment: 2630\n" +
				"Profit: 790\n";
		String result = s.generateSummary(input);
		assertEquals(correctResult, result);
	}
}
